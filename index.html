<style>
.tab { display: none; }
#regForm {  background-color: #ffffff;  margin: 100px auto;  font-family: sans-serif;  padding: 30px 40px;  width: 820px;  min-width: 300px;  box-shadow: 0px 0px 7px 7px #00000010; }
#regForm>h1 {  text-align: left; }
input {  padding: 10px;  width: 92%;  font-size: 17px;  font-family: sans-serif;  border: 1px solid #F8F8F8;  background: #F8F8F8; }
select, textarea {  padding: 10px;  width: 92%;  font-size: 17px;  font-family: sans-serif;  border: 1px solid #F8F8F8;  background: #F8F8F8; }
/* Mark input boxes that gets an error on validation: */
input.invalid {  background-color: #ffdddd;}

button { background-color: #DD2326;  color: #ffffff;  border: none;  padding: 7px 15px;  font-size: 17px;  cursor: pointer; }
button:hover {  opacity: 0.8; }
.outline-btn {  background-color: white;    color: #dd2326;    border: 1px solid #dd2326;    padding: 9px 15px;    font-weight: bold; }
.terms-link { color: #89BAF3;  text-decoration: none; }
#nextBtn { padding: 10px 25px; }
#prevBtn { padding: 9px 25px; }

/* Make circles that indicate the steps of the form: */
.step {  height: 15px;  width: 15px;  margin: 0 2px;  background-color: #bbbbbb;  border: none;  border-radius: 50%;  display: inline-block;  opacity: 0.5; }
.step.active {  opacity: 1;}

/* Mark the steps that are finished and valid: */
.step.finish {  background-color: #DD2326; }
:focus { outline: -webkit-focus-ring-color auto 0px; }
</style>

<style>
.row:after {  content: "";  display: table;  clear: both; }
.column {  float: left;  width: 50%;  padding: 0px;}
.column2 {  float: left;  width: 32%;  padding-right: 10px;}
.tab-title{font-weight: 100; color: #335C8A;}
.tab-title>b{font-weight: 700;}
@media screen and (max-width: 600px) {
  .column {  width: 100%; }
  .column2 {  width: 100%; }
}
</style>


<form id="regForm" action="/action_page.php">

  <!-- STEPS -->
  <div class="row">
    <div id="step-1" class="column2"><p style="color: #dd2326;">Step 1</p><p style="background: #dd2326; color: #dd2326;">step</p></div>
    <div id="step-2" class="column2" style="opacity: 0.5;"><p style="color: #dd2326;">Step 2</p><p style="background: #dd2326; color: #dd2326;">step</p></div>
    <div id="step-3" class="column2" style="opacity: 0.5;"><p style="color: #dd2326;">Step 3</p><p style="background: #dd2326; color: #dd2326;">step</p></div>
  </div>

  <!-- TAB 1 -->
  <div id="tab-1" class="tab">
    <h2 class="tab-title"><b>Request A Quote</b></h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sit amet magna pretium, viverra odio ut, finibus dolor. Fusce feugiat nibh arcu, at aliquet diam bibendum at. Proin scelerisque enim non eros cursus accumsan.</p>
    <div class="row">
      <div class="column">
        <p><input placeholder="Name *" oninput="this.className = ''" name="name" autocomplete="off" ></p>
        <p><input placeholder="Phone *" oninput="this.className = ''" name="phone" autocomplete="off" ></p>
      </div>
      <div class="column">
        <p><input placeholder="Company Name *" oninput="this.className = ''" name="company_name" autocomplete="off" ></p>
        <p><input placeholder="Email *" oninput="this.className = ''" name="email" autocomplete="off" ></p>
      </div>
    </div>
    <p>* Required Fields</p>
  </div>

  <!-- TAB 2 -->
  <div  id="tab-2" class="tab">
    <h2 class="tab-title"><b>Choose main characteristics</b> <span>or</span> <button class="outline-btn" type="button" name="button" onclick="nextPrev(1,'custom')">Make custom solution</button> </h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sit amet magna pretium, viverra odio ut, finibus dolor. Fusce feugiat nibh arcu, at aliquet diam bibendum at. Proin scelerisque enim non eros cursus accumsan.</p>
    <div class="row">
      <div class="column">
        <p>
          <select name="application">
            <option value="0">Select Application</option>
            <option value="1">1</option>
            <option value="2">2</option>
          </select>
        </p>
        <p>
          <select name="specific_model">
            <option value="0">Select Specific Model</option>
            <option value="1">1</option>
            <option value="2">2</option>
          </select>
        </p>
      </div>
      <div class="column">
        <p>
          <select name="kva">
            <option value="0">Select kVA range</option>
            <option value="1">1</option>
            <option value="2">2</option>
          </select>
        </p>
        <p>
          <select name="version">
            <option value="0">Select version (Open/Closed)</option>
            <option value="1">Open</option>
            <option value="2">Closed</option>
          </select>
        </p>
      </div>
    </div>
  </div>

  <!-- TAB 3 -->
  <div id="tab-3" class="tab">
    <!-- TAB 1 -->
    <div id="final" style="display: none;">
        <h2 class="tab-title"><b>Finalize your Selection</b></h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sit amet magna pretium, viverra odio ut, finibus dolor.</p>
        <p><textarea name="message" rows="4" cols="50" placeholder="Message"></textarea><br></p>
        <p><input type="checkbox" name="terms" value="agree" style="width: auto;"><label> I agree with the <a class="terms-link" href="#" target="_blank">Terms & Conditions</a></label> </p>
    </div>

    <!-- CUSTOM SOLUTION -->
    <div id="custom-final" style="display: none;">
      <h2 class="tab-title"><b>Finalize your custom Selection</b></h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sit amet magna pretium, viverra odio ut, finibus dolor.</p>
      <div class="row">
        <div class="column">
          <p><input placeholder="Write your needed Application" oninput="this.className = ''" name="needed_app" autocomplete="off" ></p>
        </div>
        <div class="column">
          <p><input placeholder="Write your needed kVA range" oninput="this.className = ''" name="kva" autocomplete="off" ></p>
        </div>
      </div>
      <textarea name="message" rows="4" cols="50" placeholder="Please write your custom requirements here" style="width: 96%;"></textarea><br>
      <p><input type="checkbox" name="terms" value="agree" style="width: auto;"><label> I agree with the <a class="terms-link" href="#" target="_blank">Terms & Conditions</a></label> </p>
    </div>
  </div>

  <!-- BUTTONS -->
  <div style="overflow:auto;">
    <div style="float:left;">
      <button type="button" id="prevBtn" class="outline-btn" onclick="nextPrev(-1)">Back</button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
    </div>
  </div>

  <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;" hidden>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
</form>

<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) { document.getElementById("prevBtn").style.display = "none";
  } else { document.getElementById("prevBtn").style.display = "inline"; }

  if (n == (x.length - 1)) { document.getElementById("nextBtn").innerHTML = "Submit"; }
  else { document.getElementById("nextBtn").innerHTML = "Next Step"; }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n,t) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");

  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";

  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;

  if (t == 'custom') {
    document.getElementById("custom-final").style.display = "block";
    document.getElementById("final").style.display = "none";
  } else {
    document.getElementById("custom-final").style.display = "none";
    document.getElementById("final").style.display = "block";
  }

  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }

  // Otherwise, display the correct tab:
  showTab(currentTab);

  //Steps
  var tab = document.getElementById("tab-2").style.display;
  if (tab == 'block') {  document.getElementById("step-2").style.opacity = 1;  }

  var tab = document.getElementById("tab-3").style.display;
  if (tab == 'block') {  document.getElementById("step-3").style.opacity = 1;  }

  var tab = document.getElementById("tab-2").style.display;
  if (tab == 'block' && n == -1) { document.getElementById("step-3").style.opacity = 0.5; }

  var tab = document.getElementById("tab-2").style.display;
  var back = document.getElementById("prevBtn").style.display;
  if (back == 'none' && tab == 'none' && n == -1) {  document.getElementById("step-2").style.opacity = 0.5; }

}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) { x[i].className = x[i].className.replace(" active", ""); }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}
</script>
